@{
    WebSecurity.RequireAuthenticatedUser();
    var followCount = 0;
    var id = UrlData[0];
    if (IsPost) {
        // Verify the request was submitted by the user
        AntiForgery.Validate();
         
        // Open DB
        var db = Database.Open("StarterSite"); 

        // Get the current followers of the user
        var getFollowers = "SELECT FollowCount FROM Followers WHERE UserId = @0";
        var user = db.QuerySingle(getFollowers,id);
        followCount = user.FollowCount;

        // Increment the follow count
        followCount++;

        // Update the number of followers
        var updateFollowCount = "UPDATE Followers SET FollowCount=@0 WHERE UserId=@1";
        db.Execute(updateFollowCount, followCount, id);

        // Redirect back to the return URL or homepage
        var returnUrl = "~/Member.cshtml";
        Context.RedirectLocal(returnUrl);
    } else {
        Response.Redirect("~/");
    }
     
}